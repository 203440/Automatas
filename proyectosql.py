from tkinter import *
import re


root = Tk()
root.geometry('580x300')
root.title("Automata")
entrada = Entry(root)
entrada.grid(row=0, column=0)

def click_boton():
    texto = Label(root, text="¡Se envío correctamente!").grid(row=2, column=5)
    
boton1 = Button(root,
				text="Envíar",
				bg="red",
				padx=50,
				pady=10,
                justify='center',
				command=click_boton).grid(row=2, column=0)
#boton1.config(justify='center')

root.mainloop()
#Alfabeto que se usa
A = [
'U','P','D','A','T','E',' ',',',
'a','b','c','d','e','f','g',';',
'h','i','j','k','l','m','n',"'",
'o','p','q','r','s','t','u',"'",
'v','w','x','y','z','S','E','T',
'=','S','E','T','W','H','E','R','E', 
'0','1','2','3','4','5','6','7','8','9']
salida = True
#Tabla de transición
TablaT = [
[1,'U',2],[2,'P',3],[3,'D',4],[4,'A',5],[5,'T',6],[6,'E',7],
[7,'a',8],[7,'b',8],[7,'c',8],[7,'d',8],[7,'e',8],[7,'f',8],[7,'g',8],
[7,'h',8],[7,'i',8],[7,'j',8],[7,'k',8],[7,'l',8],[7,'m',8],[7,'n',8],
[7,'o',8],[7,'p',8],[7,'q',8],[7,'r',8],[7,'s',8],[7,'t',8],[7,'u',8],
[7,'v',8],[7,'w',8],[7,'x',8],[7,'y',8],[7,'z',8],
[8,'S',9],[9,'E',10],[10,'T',11],
[11,'a',12],[11,'b',12],[11,'c',12],[11,'d',12],[11,'e',12],[11,'f',12],[11,'g',12],
[11,'h',12],[11,'i',12],[11,'j',12],[11,'k',12],[11,'l',12],[11,'m',12],[11,'n',12],
[11,'o',12],[11,'p',12],[11,'q',12],[11,'r',12],[11,'s',12],[11,'t',12],[11,'u',12],
[11,'v',12],[11,'w',12],[11,'x',12],[11,'y',12],[11,'z',12],
[12,"=",13],[13,"'",14],
[14,'a',15],[14,'b',15],[14,'c',15],[14,'d',15],[14,'e',15],[14,'f',15],
[14,'f',15],[14,'g',15],[14,'h',15],[14,'i',15],[14,'j',15],[14,'k',15],
[14,'l',15],[14,'m',15],[14,'n',15],[14,'o',15],[14,'p',15],[14,'q',15],
[14,'r',15],[14,'s',15],[14,'t',15],[14,'u',15],[14,'v',15],[14,'w',15],
[14,'x',15],[14,'y',15],[14,'z',15],[15,"'",16],[16,',',12],
[13,'0',17],[13,'1',17],[13,'2',17],[13,'3',17],[13,'4',17],[13,'5',17],
[13,'6',17],[13,'7',17],[13,'8',17],[13,'9',17],
[17,';',23],[16,';',24],[17,',',12],
[16,'W',18],[18,'H',19],[19,'E',20],[20,'R',21],[21,'E',22],
[22,'a',11],[22,'b',11],[22,'c',11],[22,'d',11],[22,'e',11],[22,'f',11],[22,'g',11],
[22,'h',11],[22,'i',11],[22,'j',11],[22,'k',11],[22,'l',11],[22,'m',11],[22,'n',11],
[22,'o',11],[22,'p',11],[22,'q',11],[22,'r',11],[22,'s',11],[22,'t',11],[22,'u',11],
[22,'v',11],[22,'w',11],[22,'x',11],[22,'y',11],[22,'z',11]]


#Estados a comparar
TablaC = []
#Final
EF = [24,23]
#Inicio
E = 1
#Actual
EA = E

print("+---------------------------------+")
print("     Ingresa Una Sentenia en SQL    ")
print("+---------------------------------+")


CE =input()
print(re.sub(r"\s+", "", CE))
#print(CE.replace(' ',''))


for c in re.sub(r"\s+", "", CE):
    #Verificar
    
    if c in A:
        
        for f in TablaT:
           
            if c in f and EA in f:
                #Tabla final
                TablaC.append([EA,c,f[2]])
                EA = f[2]
    else:
        salida = False
#Pasa o nel
if EA in EF and salida == True:
    
    print("+---------------------------------+")
    print("       Tabla de transiciones      ")
    print("+---------------------------------+")
    for t in TablaC:
        print(t)
    print("+---------------------------------+")
    print("          ¡¡Cadena Valida!!        ")
    print("+---------------------------------+")
    #print(CE)
else:
    print("+---------------------------------+")
    print("       Tabla de transiciones      ")
    print("+---------------------------------+")
    for t in TablaC:
        print(t)
    print("+---------------------------------+")
    print("         ¡¡Cadena NO Valida!!       ")
    print("+---------------------------------+")
